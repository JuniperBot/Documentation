---
description: 'Выражения, константы, примитивные типы данных'
---

# Выражения

Выражением называется совокупность переменных, констант, знаков операций, имен функций, скобок, которая может быть вычислена. Результатом вычисления выражения является величина определенного типа.

### Примитивы <a id="literals"></a>

Самыми базовыми выражениями являются примитивы, посмотрите на таблицу ниже:

<table>
  <thead>
    <tr>
      <th style="text-align:left">&#x41D;&#x430;&#x437;&#x432;&#x430;&#x43D;&#x438;&#x435;</th>
      <th style="text-align:left">&#x41F;&#x440;&#x438;&#x43C;&#x435;&#x440;&#x44B;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left">&#x414;&#x440;&#x43E;&#x431;&#x43D;&#x44B;&#x435; &#x447;&#x438;&#x441;&#x43B;&#x430;</td>
      <td
      style="text-align:left"><code>-1.5</code>, <code>5.7</code>, <code>1.0</code>
        </td>
    </tr>
    <tr>
      <td style="text-align:left">&#x426;&#x435;&#x43B;&#x44B;&#x435; &#x447;&#x438;&#x441;&#x43B;&#x430;</td>
      <td
      style="text-align:left"><code>-10</code>, <code>56</code>, <code>0</code>
        </td>
    </tr>
    <tr>
      <td style="text-align:left">&#x41D;&#x443;&#x43B;&#x435;&#x432;&#x430;&#x44F; &#x441;&#x441;&#x44B;&#x43B;&#x43A;&#x430;</td>
      <td
      style="text-align:left"><code>null</code>
        </td>
    </tr>
    <tr>
      <td style="text-align:left">&#x41B;&#x43E;&#x433;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x439;
        &#x442;&#x438;&#x43F;</td>
      <td style="text-align:left"><code>true</code> &#x438;&#x43B;&#x438; <code>false</code>
      </td>
    </tr>
    <tr>
      <td style="text-align:left">&#x421;&#x442;&#x440;&#x43E;&#x43A;&#x430;</td>
      <td style="text-align:left">
        <p><code>&quot;&#x441;&#x442;&#x440;&#x43E;&#x43A;&#x430; &#x432; &#x434;&#x432;&#x43E;&#x439;&#x43D;&#x44B;&#x445; &#x441;&#x43A;&#x43E;&#x431;&#x43E;&#x447;&#x43A;&#x430;&#x445;&quot;</code>
        </p>
        <p><code>&apos;&#x441;&#x442;&#x440;&#x43E;&#x43A;&#x430; &#x432; &#x430;&#x43F;&#x43E;&#x441;&#x442;&#x440;&#x43E;&#x444;&#x430;&#x445;&apos;</code>
        </p>
      </td>
    </tr>
    <tr>
      <td style="text-align:left">&#x421;&#x438;&#x43C;&#x432;&#x43E;&#x43B;</td>
      <td style="text-align:left"><code>&apos;&#x444;&apos;</code>
      </td>
    </tr>
  </tbody>
</table>

### Идентификаторы <a id="identifiers"></a>

Идентификаторы \(названия переменных\) могут содержать буквы, числа и нижнее подчеркивание, но не могут начинаться с чисел.

### Списки <a id="lists"></a>

Для объявления упорядоченных списков значений или результатов выражений необходимо перечислить их через запятую в квадратных скобках, например:

```text
[1, 2, 3]
```

### Карта \(Map\) <a id="maps"></a>

Карта — это структура данных, в которой значения хранятся не по одному как в списке выше, а в паре "ключ - значение". Ключом карты может быть любой идентификатор или строка, а значением - уже любое выражение. Объявляются карты следующим образом:

```javascript
{ key1: 'value1', 'key 2': 'value2' }
```

Имейте в виду, что идентификаторы, представленные ключами, не являются названиями переменных, они всегда конвертируются в их строковое представление. Таким образом идентификатор `key1` внутри карты будет строкой `"key1"`.

### Доступ к значениям списков и карт <a id="access"></a>

Всякий раз, когда нужно получить доступ к какому-либо элементу списка или значению какого-то ключа карты, используется выражение доступа по индексу элемента списка или названию ключа. Помните, что индексы списков всегда начинаются с 0.

```text
list[0]
map["key1"]
```

### Ключевые слова <a id="keywords"></a>

В шаблонном движке JuniperBot есть набор зарезервированных ключевых слов. Данные ключевые слова используются для построения более сложных конструкций в шаблонах. Ниже перечислены все зарезервированные ключевые слова: 

<table>
  <thead>
    <tr>
      <th style="text-align:left">
        <p></p>
        <ul>
          <li><code>set</code>
          </li>
          <li><code>global</code>
          </li>
          <li><code>if</code>
          </li>
          <li><code>elseif</code>
          </li>
          <li><code>else</code>
          </li>
          <li><code>endif</code>
          </li>
          <li><code>for</code>
          </li>
          <li><code>endfor</code>
          </li>
          <li><code>true</code>
          </li>
          <li><code>false</code>
          </li>
          <li><code>empty</code>
          </li>
          <li><code>return</code>
          </li>
        </ul>
      </th>
      <th style="text-align:left">
        <p></p>
        <ul>
          <li><code>in</code>
          </li>
          <li><code>as</code>
          </li>
          <li><code>do</code>
          </li>
          <li><code>verbatim</code>
          </li>
          <li><code>filter</code>
          </li>
          <li><code>endfilter</code>
          </li>
          <li><code>null</code>
          </li>
          <li><code>is</code>
          </li>
          <li><code>not</code>
          </li>
          <li><code>with</code>
          </li>
          <li><code>require</code>
          </li>
          <li><code>returning</code>
          </li>
        </ul>
      </th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

### Унарные операторы <a id="unary"></a>

Унарные операторы по определению нуждаются только в одном аргументе, шаблонизатор JuniperBot содержит только два встроенных унарных оператора: `not` и `-`.

<table>
  <thead>
    <tr>
      <th style="text-align:left">&#x421;&#x438;&#x43C;&#x432;&#x43E;&#x43B;</th>
      <th style="text-align:left">&#x41E;&#x43F;&#x438;&#x441;&#x430;&#x43D;&#x438;&#x435;</th>
      <th style="text-align:left">&#x41F;*</th>
      <th style="text-align:left">&#x41F;&#x440;&#x438;&#x43C;&#x435;&#x440;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left"><code>-</code>
      </td>
      <td style="text-align:left">&#x41C;&#x435;&#x43D;&#x44F;&#x435;&#x442; &#x437;&#x43D;&#x430;&#x43A;</td>
      <td
      style="text-align:left">5</td>
        <td style="text-align:left"><code>-(-1)</code> &#x432;&#x44B;&#x432;&#x43E;&#x434;&#x438;&#x442; <code>1</code>
        </td>
    </tr>
    <tr>
      <td style="text-align:left"><code>not</code>
      </td>
      <td style="text-align:left">&#x41E;&#x442;&#x440;&#x438;&#x446;&#x430;&#x43D;&#x438;&#x435;</td>
      <td
      style="text-align:left">10</td>
        <td style="text-align:left">
          <p><code>not false</code> &#x432;&#x44B;&#x432;&#x43E;&#x434;&#x438;&#x442; <code>true</code>
          </p>
          <p><code>not true</code> &#x432;&#x44B;&#x432;&#x43E;&#x434;&#x438;&#x442; <code>false</code>
          </p>
        </td>
    </tr>
  </tbody>
</table>

{% hint style="info" %}
\*Приоритет оператора определяет в какой последовательности оператор вычисляется в составе выражений. Чем ниже значение, тем выше приоритет.
{% endhint %}

### Логические операторы <a id="binary"></a>

Шаблонный движок JuniperBot поддерживает следующие логические операторы:

| Символ | П\* | Описание | Пример |
| :--- | :--- | :--- | :--- |
| `.` | 1 | Получение доступа к свойствам объектов | `[1, 2].size` выводит `2` |
| `*` | 5 | Умножение двух значений | `2.2 * 2.2` выводит `4.84` |
| `**` | 5 | Целочисленное умножение двух значений | `2.2 ** 2.2` выводит `4` |
| `/` | 5 | Деление двух значений | `5.0 / 2.0` выводит `2.5` |
| `//` | 5 | Деление двух значений с округлением до целого | `5.0 // 2.0` выводит `3` |
| `%` | 5 | Получение остатка от деления | `5 % 2` выводит `1` |
| `+` | 10 | Суммирует два значения | `5 + 2` выводит `7` |
| `-` | 10 | Вычитает два значения | `5 - 2` выводит `3` |
| `~` | 12 | Объединяет две строки | `"5" ~ "2"` выводит `"52"` |
| `<` | 15 | Сравнивает два значения, проверяя меньше ли первое значение второе | `1 < 2` выводит `true` `1 < 1` выводит `false` |
| `<=` | 15 | Сравнивает два значения, проверяя меньше или равно ли первое значение второму | `2 <= 2` выводит `true` `2 < 1` выводит `false` |
| `>` | 15 | Сравнивает два значения, проверяя больше ли первое значение второго | `2 > 1` выводит `true` `2 > 2` выводит `false` |
| `>=` | 15 | Сравнивает два значения, проверяя больше или равно ли первое значение второму | `2 >= 2` выводит `true` `2 >= 3` выводит `false` |
| `in` | 15 | Проверяет, содержится ли значение в списке | `5 in [2]` выводит `false` |
| `==` | 20 | Проверяет два значения на их равенство | `true == false` выводит `false` `false == false` выводит `true` |
| `!=` | 20 | Проверяет два значения на их неравенство | `true != false` выводит `true` `false != false` выводит `false` |
| `and` | 25 | Оператор конъюнкции \(И\) | `true and false` выводит `false` `true and true` выводит `true` |
| `or` | 25 | Оператор дизъюнкции \(ИЛИ\) | `true or false` выводит `true` `false or false` выводит `false` |
| `|` | 30 | Использует первый аргумент как параметр к названию функции во втором аргументе | `-5 | abs` выводит `5` |

{% hint style="info" %}
\*Приоритет оператора определяет в какой последовательности оператор вычисляется в составе выражений. Чем ниже значение, тем выше приоритет.
{% endhint %}

### Тернарный оператор <a id="ternary"></a>

Поддерживается стандартный тернарный оператор, позволяющий выбрать одно из двух значений в зависимости от результата вычисления логического выражения. Например:

```text
{{ <выражение> ? 1 : 2 }}
```

Такой блок выведет `1`, если результат вычисления `выражения` равен `true` и `2`, если `false`.

### Оператор Элвиса <a id="elvis"></a>

Оператор Элвиса возвращает результат вычисления первого выражения в случае, если оно имеет значение истины согласно [Конвертации типов](type-convert.md#logicheskii-tip), в противном случае возвращает результат вычисления второго выражения.

```text
{{ <выражение A> ?: <выражение Б> }}
```

Этот оператор очень полезен для определения значений по-умолчанию во втором выражении, когда значение первого выражения отсутствует.

### Тестовые выражения <a id="test"></a>

Тестовые выражения представляют собой сложные предикатные конструкции, в результате вычисления которых возвращается логическое значение.

<table>
  <thead>
    <tr>
      <th style="text-align:left">&#x41D;&#x430;&#x437;&#x432;&#x430;&#x43D;&#x438;&#x435;</th>
      <th style="text-align:left">&#x41E;&#x43F;&#x438;&#x441;&#x430;&#x43D;&#x438;&#x435;</th>
      <th style="text-align:left">&#x41F;&#x440;&#x438;&#x43C;&#x435;&#x440;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left">Null</td>
      <td style="text-align:left">&#x41F;&#x440;&#x43E;&#x432;&#x435;&#x440;&#x44F;&#x435;&#x442;, &#x44F;&#x432;&#x43B;&#x44F;&#x435;&#x442;&#x441;&#x44F;
        &#x43B;&#x438; &#x437;&#x43D;&#x430;&#x447;&#x435;&#x43D;&#x438;&#x435; <code>null</code>
      </td>
      <td style="text-align:left"><code>1 is null</code> &#x432;&#x44B;&#x432;&#x43E;&#x434;&#x438;&#x442; <code>false</code>
      </td>
    </tr>
    <tr>
      <td style="text-align:left">Divisible</td>
      <td style="text-align:left">&#x41F;&#x440;&#x43E;&#x432;&#x435;&#x440;&#x44F;&#x435;&#x442;, &#x43C;&#x43E;&#x436;&#x43D;&#x43E;
        &#x43B;&#x438; &#x43F;&#x43E;&#x434;&#x435;&#x43B;&#x438;&#x442;&#x44C;
        &#x43F;&#x435;&#x440;&#x432;&#x43E;&#x435; &#x437;&#x43D;&#x430;&#x447;&#x435;&#x43D;&#x438;&#x435;
        &#x43D;&#x430; &#x432;&#x442;&#x43E;&#x440;&#x43E;&#x435;</td>
      <td style="text-align:left"><code>2 is divisible by 1</code> &#x432;&#x44B;&#x432;&#x43E;&#x434;&#x438;&#x442; <code>true</code>
      </td>
    </tr>
    <tr>
      <td style="text-align:left">Same As</td>
      <td style="text-align:left">&#x41F;&#x440;&#x43E;&#x432;&#x435;&#x440;&#x44F;&#x435;&#x442;, &#x44F;&#x432;&#x43B;&#x44F;&#x44E;&#x442;&#x441;&#x44F;
        &#x43B;&#x438; &#x434;&#x432;&#x430; &#x43E;&#x431;&#x44A;&#x435;&#x43A;&#x442;&#x430;
        &#x431;&#x443;&#x43A;&#x432;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x43E;&#x434;&#x43D;&#x438;&#x43C;
        &#x438; &#x442;&#x435;&#x43C; &#x436;&#x435; &#x43E;&#x431;&#x44A;&#x435;&#x43A;&#x442;&#x43E;&#x43C;</td>
      <td
      style="text-align:left"><code>1 is same as 2</code> &#x432;&#x44B;&#x432;&#x43E;&#x434;&#x438;&#x442; <code>false</code>
        </td>
    </tr>
    <tr>
      <td style="text-align:left">Function based</td>
      <td style="text-align:left">&#x41F;&#x440;&#x43E;&#x432;&#x435;&#x440;&#x44F;&#x435;&#x442; &#x440;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;
        &#x432;&#x44B;&#x447;&#x438;&#x441;&#x43B;&#x435;&#x43D;&#x438;&#x44F;
        &#x44D;&#x442;&#x43E;&#x439; &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x438;
        &#x43D;&#x430;&#x434; &#x430;&#x440;&#x433;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x43E;&#x43C;.
        &#x414;&#x43E;&#x43F;&#x443;&#x441;&#x442;&#x438;&#x43C;&#x44B;&#x435;
        &#x43D;&#x430;&#x437;&#x432;&#x430;&#x43D;&#x438;&#x44F; &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x439;
        &#x43F;&#x435;&#x440;&#x435;&#x447;&#x438;&#x441;&#x43B;&#x435;&#x43D;&#x44B;
        <a
        href="../functions.md">&#x437;&#x434;&#x435;&#x441;&#x44C;</a>.
          <br />&#x41F;&#x43E;&#x43B;&#x435;&#x437;&#x43D;&#x43E; &#x43F;&#x440;&#x438;
          &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x438;
          &#x441;&#x43E;&#x432;&#x43C;&#x435;&#x441;&#x442;&#x43D;&#x43E; &#x441;
          &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x44F;&#x43C;&#x438; <a href="../functions.md#number">number</a>,
          <a
          href="../functions.md#iterable">iterable</a>&#x434;&#x43B;&#x44F; &#x43F;&#x440;&#x43E;&#x432;&#x435;&#x440;&#x43A;&#x438;
            &#x442;&#x438;&#x43F;&#x430;.</td>
      <td style="text-align:left">
        <p><code>4 is defined</code> &#x432;&#x44B;&#x432;&#x43E;&#x434;&#x438;&#x442; <code>true;</code>
        </p>
        <p><code>&apos;test&apos; is number</code> &#x432;&#x44B;&#x432;&#x43E;&#x434;&#x438;&#x442; <code>false</code>.</p>
      </td>
    </tr>
    <tr>
      <td style="text-align:left">Is Not</td>
      <td style="text-align:left">&#x412; &#x43B;&#x44E;&#x431;&#x44B;&#x445; &#x43A;&#x43E;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43A;&#x446;&#x438;&#x44F;&#x445;
        &#x432;&#x44B;&#x448;&#x435; &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x44C;
        &#x43E;&#x442;&#x440;&#x438;&#x446;&#x430;&#x43D;&#x438;&#x435; <code>is not</code>
      </td>
      <td style="text-align:left"><code>4 is not defined</code> &#x432;&#x44B;&#x432;&#x43E;&#x434;&#x438;&#x442; <code>false</code>
      </td>
    </tr>
  </tbody>
</table>

### Оператор выбора <a id="selection"></a>

Оператор выбора используется для получения доступа к свойству какого-либо объекта или вызова функции этого объекта. Допустимые свойства и функции описаны в разделах [входные данные](../variables.md) и [Типы данных](../types.md).

```text
guild.name
channel.sendMessage('моё сообщение!')
```

Оператор выбора также используется в картах для получения доступа к значению, используя название ключа как название свойства.

