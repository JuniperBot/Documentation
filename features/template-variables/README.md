---
description: >-
  Вы можете использовать нижеперечисленные переменные в любых шаблонах
  сообщений, которые можете найти в панели управления своим сервером.
---

# Переменные шаблонов

{% hint style="danger" %}
Начиная с версии JuniperBot 9.0, переменные шаблонов были заменены на переменные [Шаблонного движка](../template-engine/)!

Старые переменные шаблонов использовать не рекомендуется, поскольку более не будут поддерживаться и дорабатываться. 

Пока что они работают, но возможно вскоре будут вообще удалены, поэтому все текущие шаблоны рекомендуется переделать на основе переменных шаблонного движка.

Вкратце что необходимо сделать для перехода на новый движок:  
1. Одинарные фигурные скобки заменить на двойные:  
`{member}` станет `{{member}}`   
2. Переменную `server` переименовать в `guild`:  
`{server}` станет `{{guild}}`  
`{server.name}` станет `{{guild.name}}`   
3. Работа с датами поменялась полностью:  
`{currentTime}` станет `{{date('now')}}`  
Переменных с краткими форматами даты по типу `{*.shortDate}` больше нет, теперь нужно указать конкретный формат в функцию date. [Более подробно о функции date](../template-engine/functions.md#date).  
4. В рейтинге участника `{level}` станет `{{member.rank.level}}`   
5. В пользовательских командах:  
`{content}` станет `{{arguments}}`  
`{content:1}` станет `{{arguments.get(1)}}`  
`{content:1..}` станет `{{arguments.after(1)}}`  
`{content:..4}` станет `{{arguments.before(4)}}`  
`{content:2..4}` станет `{{arguments.range(2,4)}}`   
Цифры свои соответственно.  
6. Заменить упоминания участников:  
`{message.mentions}` станет `{{join(message.mentionedMembers)}}`asd  
`{message.mentions.1}` станет `{{message.mentionedMembers[0]}}`  
`{message.mentions.2}` станет `{{message.mentionedMembers[1]}}`   
Как вы заметили, отсчет там начинается с 0.
{% endhint %}



Их можно использовать внутри:

* Шаблоне сообщения;
* Шаблоне панели;
* Автора панели;
* Наименования панели;
* Футера \(подвала\) панели;
* Полях панели \(в названии и значении\).

## Участник

Переменные, возвращающие некоторую полезную информацию об участнике, который вызвал соответствующую команду или событие \(поднятие уровня в рейтинге, например\).

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{member}` | Упоминание | Упоминание участника |
| `{member.id}` | Число | Уникальный идентификатор участника |
| `{member.mention}` | Упоминание | Упоминание участника |
| `{member.nickname}` | Строка | Никнейм участника на сервере \(если установлен\) или его оригинальное  имя |
| `{member.name}` | Строка | Имя участника |
| `{member.discriminator}` | Строка | Дискриминатор участника \(тег, 4 числа после \# имени учетной записи\) |
| `{member.joinedAt}` | [ДатаВремя](data-types.md#datavremya) | Дата и время присоединения участника на сервер |
| `{member.createdAt}` | [ДатаВремя](data-types.md#datavremya) | Дата и время регистрации участника |
| `{member.status}` | Строка | Статус участника \(В сети, Нет на месте, Не беспокоить, Оффлайн\) с иконкой-эмоцией. |
| `{member.avatarUrl}` | Строка | Ссылка на аватар участника |
| `{member.level}` | Число | Уровень участника в рейтинге |
| `{member.voiceTime}` | Строка | Время в голосовых каналах |
| `{member.cookies}` | Число | Количество печенек |

## Сервер

Переменные, возвращающие некоторую полезную информацию о Вашем сервере.

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{server}` | Строка | Имя сервера |
| `{server.owner}` | [Участник](./#uchastnik) | Владелец сервера |
| `{server.id}` | Число | Уникальный идентификатор сервера |
| `{server.name}` | Строка | Имя сервера |
| `{server.iconUrl}` | Строка | Ссылка на иконку сервера |
| `{server.region}` | Строка | Название региона сервера с иконкой-эмоцией |
| `{server.afkTimeout}` | Число | AFK таймаут голосового канала \(в минутах\) |
| `{server.afkChannel}` | Строка | Название AFK голосового канала |
| `{server.memberCount}` | Число | Количество участников на сервере |
| `{server.createdAt}` | [ДатаВремя](data-types.md#datavremya) | Дата и время создания сервера |

## Канал

Переменные, возвращающие некоторую полезную информацию о целевом канале отправляемого сообщения \(исключая сообщения в личку\).

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{channel}` | Упоминание | Упоминание канала |
| `{channel.id}` | Число | Уникальный идентификатор канала |
| `{channel.name}` | Строка | Название канала |
| `{channel.mention}` | Упоминание | Упоминание канала |
| `{channel.topic}` | Строка | Описание \(топик\) канала |
| `{channel.position}` | Число | Номер позиции канала в списке \(1 - верх списка\) |
| `{channel.createdAt}` | [ДатаВремя](data-types.md#datavremya) | Дата и время создание канала |

## Сообщение <a id="message"></a>

Переменные, возвращающие некоторую полезную информацию о сообщении-источнике. Работает в пользовательских командах и рейтинге участников.

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{message}` | Строка | Содержимое сообщения \(`{message.contentRaw}`\) |
| `{message.id}` | Число | Уникальный идентификатор сообщения |
| `{message.contentRaw}` | Строка | Содержимое сообщения без какой-либо обработки \(как его прислал Discord\) |
| `{message.contentDisplay}` | Строка | Содержимое сообщения, где все коды каналов, эмоций и упоминаний заменены их наименованиями |
| `{message.contentStripped}` | Строка | Содержимое сообщения как `contentDisplay`, но дополнительно еще и без какого-либо форматирования |
| `{message.mentions}` | Число | Количество упомянутых в сообщении участников |
| `{message.mentions.1}` | [Участник](./#uchastnik) | Упомянутый первый участник в сообщении. Замените `1` на `2` для получения второго и так далее. |
| `{message.jumpUrl}` | Строка | Ссылка быстрого перехода на это сообщение |
| `{message.channel}` | [Канал](./#kanal) | Канал, в котором опубликовано это сообщение |
| `{message.author}` | [Участник](./#uchastnik) | Автор этого сообщения |
| `{message.createdAt}` | [ДатаВремя](data-types.md#datavremya) | Дата и время создания сообщения |

## Рейтинг участников

Дополнительные переменные для сообщений рейтинга участников.

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{level}` | Число | Новый уровень участника |
| `{message}` | [Сообщение](./#message) | Сообщение, вызвавшее повышение уровня участника |

## Пользовательские команды

Дополнительные переменные для пользовательских команд.

<table>
  <thead>
    <tr>
      <th style="text-align:left">&#x41F;&#x435;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x43D;&#x430;&#x44F;</th>
      <th
      style="text-align:left">&#x422;&#x438;&#x43F;</th>
        <th style="text-align:left">&#x41E;&#x43F;&#x438;&#x441;&#x430;&#x43D;&#x438;&#x435;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left"><code>{content}</code>
      </td>
      <td style="text-align:left">&#x421;&#x442;&#x440;&#x43E;&#x43A;&#x430;</td>
      <td style="text-align:left">&#x422;&#x435;&#x43A;&#x441;&#x442;, &#x441;&#x43B;&#x435;&#x434;&#x443;&#x435;&#x43C;&#x44B;&#x439;
        &#x437;&#x430; &#x432;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x43D;&#x43E;&#x439;
        &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x43E;&#x439;. &#x41D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;,
        &#x434;&#x43B;&#x44F; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x44B; <code>!&#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x430; &#x431;&#x43B;&#x430;&#x431;&#x43B;&#x430;&#x431;&#x43B;&#x430;</code> &#x43A;&#x43E;&#x43D;&#x442;&#x435;&#x43D;&#x442;&#x43E;&#x43C;
        &#x431;&#x443;&#x434;&#x435;&#x442; <code>&#x431;&#x43B;&#x430;&#x431;&#x43B;&#x430;&#x431;&#x43B;&#x430;</code>.</td>
    </tr>
    <tr>
      <td style="text-align:left"><code>{content:N}</code>
      </td>
      <td style="text-align:left">&#x421;&#x442;&#x440;&#x43E;&#x43A;&#x430;</td>
      <td style="text-align:left">
        <p>&#x410;&#x440;&#x433;&#x443;&#x43C;&#x435;&#x43D;&#x442;, &#x432;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x43D;&#x44B;&#x439;
          &#x441; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x43E;&#x439;. &#x410;&#x440;&#x433;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x44B;
          &#x440;&#x430;&#x437;&#x434;&#x435;&#x43B;&#x44F;&#x44E;&#x442;&#x441;&#x44F;
          &#x43F;&#x440;&#x43E;&#x431;&#x435;&#x43B;&#x43E;&#x43C;, &#x441;&#x43E;&#x43E;&#x442;&#x432;&#x435;&#x442;&#x441;&#x442;&#x432;&#x435;&#x43D;&#x43D;&#x43E;
          &#x434;&#x43B;&#x44F; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x435;&#x43D;&#x438;&#x44F;
          &#x43D;&#x443;&#x436;&#x43D;&#x43E;&#x433;&#x43E; &#x430;&#x440;&#x433;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x430;
          &#x432;&#x43C;&#x435;&#x441;&#x442;&#x43E; <code>N</code> &#x43D;&#x443;&#x436;&#x43D;&#x43E;
          &#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x435;&#x433;&#x43E; &#x43F;&#x43E;&#x440;&#x44F;&#x434;&#x43A;&#x43E;&#x432;&#x44B;&#x439;
          &#x43D;&#x43E;&#x43C;&#x435;&#x440;:</p>
        <ul>
          <li><code>{content:1}</code> &#x434;&#x43B;&#x44F; &#x43F;&#x435;&#x440;&#x432;&#x43E;&#x433;&#x43E;;</li>
          <li><code>{content:2}</code> &#x434;&#x43B;&#x44F; &#x432;&#x442;&#x43E;&#x440;&#x43E;&#x433;&#x43E;;</li>
          <li>&#x438; &#x442;&#x430;&#x43A; &#x434;&#x430;&#x43B;&#x435;&#x435;.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td style="text-align:left"><code>{content:N..M}</code>
      </td>
      <td style="text-align:left">&#x421;&#x442;&#x440;&#x43E;&#x43A;&#x430;</td>
      <td style="text-align:left">
        <p>&#x412;&#x441;&#x442;&#x430;&#x432;&#x438;&#x442; &#x434;&#x438;&#x430;&#x43F;&#x430;&#x437;&#x43E;&#x43D;
          &#x430;&#x440;&#x433;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x43E;&#x432;,
          &#x432;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x43D;&#x44B;&#x445; &#x441;
          &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x43E;&#x439; &#x447;&#x435;&#x440;&#x435;&#x437;
          &#x43F;&#x440;&#x43E;&#x431;&#x435;&#x43B;. &#x41D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, <code>{content:2..5}</code> &#x432;&#x441;&#x442;&#x430;&#x432;&#x438;&#x442;
          &#x430;&#x440;&#x433;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x44B; &#x441;&#x43E;
          &#x432;&#x442;&#x43E;&#x440;&#x43E;&#x433;&#x43E; &#x43F;&#x43E; &#x43F;&#x44F;&#x442;&#x44B;&#x439;.</p>
        <p></p>
        <p>&#x41E;&#x434;&#x43D;&#x43E; &#x438;&#x437; &#x437;&#x43D;&#x430;&#x447;&#x435;&#x43D;&#x438;&#x439;
          &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x43E;&#x43F;&#x443;&#x441;&#x442;&#x438;&#x442;&#x44C;,
          &#x43D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;:</p>
        <ul>
          <li><code>{content:2..}</code> - &#x432;&#x441;&#x442;&#x430;&#x432;&#x438;&#x442;
            &#x430;&#x440;&#x433;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x44B; &#x441;&#x43E;
            &#x432;&#x442;&#x43E;&#x440;&#x43E;&#x433;&#x43E; &#x434;&#x43E; &#x43F;&#x43E;&#x441;&#x43B;&#x435;&#x434;&#x43D;&#x435;&#x433;&#x43E;;</li>
          <li><code>{content:..5}</code> - &#x432;&#x441;&#x442;&#x430;&#x432;&#x438;&#x442;
            &#x430;&#x440;&#x433;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x44B; &#x441;
            &#x43F;&#x435;&#x440;&#x432;&#x43E;&#x433;&#x43E; &#x434;&#x43E; &#x43F;&#x44F;&#x442;&#x43E;&#x433;&#x43E;;</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td style="text-align:left"><code>{message}</code>
      </td>
      <td style="text-align:left"><a href="./#message">&#x421;&#x43E;&#x43E;&#x431;&#x449;&#x435;&#x43D;&#x438;&#x435;</a>
      </td>
      <td style="text-align:left">&#x421;&#x43E;&#x43E;&#x431;&#x449;&#x435;&#x43D;&#x438;&#x435; &#x441;
        &#x432;&#x44B;&#x437;&#x43E;&#x432;&#x43E;&#x43C; &#x44D;&#x442;&#x43E;&#x439;
        &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x44B;</td>
    </tr>
  </tbody>
</table>## Автомодерация <a id="automod"></a>

Данные переменные используются в фильтрах автомодерации в уведомлениях о нарушении. Для каждого фильтра определен свой набор переменных, с которыми вы можете ознакомиться ниже.

#### Фильтр "Ссылки"

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{infraction.linkUrl}` | ​Строка | Ссылка, попавшая под правила фильтра |
| `{infraction.inviteCode}` | Строка | Код приглашения на сервер |
| `{infraction.inviteUrl}` | Строка | Ссылка с приглашением на сервер в формате `discord.gg/<код>` |

#### Фильтр "Плохие слова"

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{infraction.word}` | Строка | Обнаруженное плохое слово |

#### Фильтр "Повторяемый текст"

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{infraction.count}` | Число | Количество одинаковых сообщений |

#### Фильтр "Caps Lock"

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{infraction.percent}` | Число | Процент букв в верхнем регистре в сообщении |

#### Фильтр "Эмоции"

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{infraction.count}` | Число | Количество обнаруженных эмоций в сообщении |

#### Фильтр "Упоминания"

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{infraction.mentionType}` | Строка | Тип упоминаний, на которых сработал фильтр |
| `{infraction.count}` | Число | Количество обнаруженных упоминаний этого типа |

## Прочее

Прочие вспомогательные переменные.

| Переменная | Тип | Описание |
| :--- | :--- | :--- |
| `{currentTime}` | [ДатаВремя](data-types.md#datavremya) | Текущее время в часовом поясе сервера |

